# `.tools` Directory
This directory contains tools used as part of the build and testing of the library as well as automating the document creation.  The following is a summary of the directories and files contained within

```
.tools/
    ↳ .config/
        ↳ dotnet-tools.json
    ↳ cake-scripts/
        ↳ common/
            ↳ common.cake
            ↳ common.config.cake
        ↳ tasks/
            ↳ build.task.cake
            ↳ clean.task.cake
            ↳ docs.task.cake
            ↳ pack.task.cake
            ↳ restore.task.cake
            ↳ tasks.cake
            ↳ test.task.cake
        ↳ setup.cake
        ↳ teardown.cake
    ↳ build.cake
    ↳ mddocs.config.json
    ↳ mddocs.schema.json
    ↳ README.md
```

## `.config` directory
Auto generated by `dotnet` and contains the `dotnet-tools.json` manifest files for the dotnet tools used in the [cake](https://cakebuild.net/) scripts.

## `cake-scripts` directory
This directory contains the [cake](https://cakebuild.net/) scripts used for automation of the build and test workflow as well as the documentation generation workflow.

* `common/` : This directory contains the scripts that contain common variables, methods, classes, etc, that are loaded and used by most other scripts.  
    * `common/common.cake` contains global variables and loads the `common.config.cake` script. All of other scripts that need access to commons should load this one only.
    * `common/common.config.cake` contains the `CommonConfiguration` class that acts as a DTO containing the values from the CLI arguments.  
* `tasks/`: This directory contains the scripts for each task that can be performed.  Each file within this directory is named `[task].task.cake` where `[task]` defines the task it performs.
* `setup.cake`: This contains the `Setup` script that is executed at the start of any task that runs. It performs the basic setups like initializing the `CommonConfiguration` instance used by all tasks.
* `teardown.cake`: This contains the `Teardown` script that is executed after all tasks are performed.

## `build.cake`
This is the entry point for the executing the [cake](https://cakebuild.net) scripts when executing `dotnet cake`.

## `mddocs.config.json` and `mddocs.schema.json`
`mddocs.config.json` is the configuration file used by the `mddocs` dotnet tool.  The `mddocs.schema.json` file is the schema reference file for the config file.

# How To Use The Tools
When cloning the repository, you first need to ensure the dotnet tools get installed.  From the `.tools/` directory execute the following command:

```bash
dotnet tool restore
```

This will install the [cake](https://cakebuild.net) and the [mddocs](https://github.com/ap0llo/mddocs) dot net tools.  The mddocs tool is used by the cake scripts, so you only need to worry about the cake scripts.

Next use the cake tool to execute the task you want to perform.  

```bash
dotnet cake --Target=[TaskName]
```

Just replace `[TaskName]` with the name of the task to perform.  These are outlined below

* `Clean`: Performs a `dotnet clean` on the MonoGame project and its dependency projects.  This will also remove the `Artifacts` directory in the root of the repository as a measure of ensuring a clean slate for other tasks.
* `Restore`: Performs a `dotnet restore` on the MonoGame project and its dependencies.
* `Build`: Performs a `dotnet build` on the MonoGame project and its dependencies. The resulting build artifacts are placed in the `Artifacts` directory in the root of the repository directory.
* `Rebuild`: Performs the following tasks, in order, `Clean`, `Restore`, `Build`.
* `Test`: Executes the `dotnet test` for the test projects.
    * When called will perform the `Build` task first.
* `Pack`: Performs a `dotnet pack` to generate the NuGet package for the MonoGame.Aseprite project.
    * When called, will perform the `Test` task first.
* `Docs`: Generates the API Documentation for the MonoGame.Aseprite project and its dependencies.  The resulting documentation files are placed in the `Artifacts` directory in the root of the repository directory.
* `All`: Performs the following tasks, in order, `Rebuild`, `Test`, `Pack`, `Docs`
